<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 3.2.0">
  <meta name="generator" content="Hugo 0.52" />
  <meta name="author" content="Newres Al Haider">

  
  
  
  
    
  
  <meta name="description" content="A quick tutorial on the functional logic programming language Curry using an example League of Legends champion recommending system.
">

  
  <link rel="alternate" hreflang="en-us" href="https://www.newresalhaider.com/post/curry-lol/">

  


  

  

  

  

  

  

  
  
  
  <meta name="theme-color" content="#EF525B">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" crossorigin="anonymous">
      
    

    

    

  

  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700|Roboto:400,400italic,700|Roboto+Mono">
  

  <link rel="stylesheet" href="/styles.css">
  
  <link rel="stylesheet" href="/css/post.css">
  

  
  
  

  
  <link rel="alternate" href="https://www.newresalhaider.com/index.xml" type="application/rss+xml" title="Newres Al Haider">
  <link rel="feed" href="https://www.newresalhaider.com/index.xml" type="application/rss+xml" title="Newres Al Haider">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="https://www.newresalhaider.com/post/curry-lol/">

  

  
  
  
  

  
  
  
    
  
  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="twitter:site" content="@newresa">
  <meta property="twitter:creator" content="@newresa">
  
  <meta property="og:site_name" content="Newres Al Haider">
  <meta property="og:url" content="https://www.newresalhaider.com/post/curry-lol/">
  <meta property="og:title" content="To Curry in League of Legends | Newres Al Haider">
  <meta property="og:description" content="A quick tutorial on the functional logic programming language Curry using an example League of Legends champion recommending system.
"><meta property="og:image" content="https://www.newresalhaider.com/post/curry-lol/featured.jpg">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2020-07-04T00:00:00&#43;02:00">
  
  <meta property="article:modified_time" content="2020-07-04T00:00:00&#43;02:00">
  

  

  

  <title>To Curry in League of Legends | Newres Al Haider</title>

</head>
<body id="top" data-spy="scroll" data-target="#TableOfContents" data-offset="71" >
  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" role="textbox" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">Newres Al Haider</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav ml-auto">
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#posts">
            
            <span>Posts</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#publications_selected">
            
            <span>Publications</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        

      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  





    















<div class="article-header d-xl-none">
  <div class="featured-image" style="background-image: url('/post/curry-lol/featured_hu263f295b62b0901e91f593ed0512e4ad_122491_800x0_resize_q75_box.jpg');"></div>
  <span class="article-header-caption">League of Legends champions Copyright Riot Games</span>
</div>


<div class="container-fluid split-header d-none d-xl-block">
  <div class="row">
    <div class="col-6">
      <div class="split-header-content">
        <h1 itemprop="name">To Curry in League of Legends</h1>

        

        

<div class="article-metadata">

  
  
  <span itemscope itemprop="author" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Newres Al Haider">
  </span>
  

  <span class="article-date">
    
    <meta content="2020-07-04 00:00:00 &#43;0200 CEST" itemprop="datePublished">
    <time datetime="2020-07-04 00:00:00 &#43;0200 CEST" itemprop="dateModified">
      4 Jul, 2020
    </time>
  </span>
  <span itemscope itemprop="publisher" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Newres Al Haider">
  </span>

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    16 min read
  </span>
  

  
  

  

  

</div>


        







  










        
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=To%20Curry%20in%20League%20of%20Legends&amp;url=https%3a%2f%2fwww.newresalhaider.com%2fpost%2fcurry-lol%2f"
         target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.newresalhaider.com%2fpost%2fcurry-lol%2f"
         target="_blank" rel="noopener">
        <i class="fab fa-facebook-f"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fwww.newresalhaider.com%2fpost%2fcurry-lol%2f&amp;title=To%20Curry%20in%20League%20of%20Legends"
         target="_blank" rel="noopener">
        <i class="fab fa-linkedin-in"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=https%3a%2f%2fwww.newresalhaider.com%2fpost%2fcurry-lol%2f&amp;title=To%20Curry%20in%20League%20of%20Legends"
         target="_blank" rel="noopener">
        <i class="fab fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=To%20Curry%20in%20League%20of%20Legends&amp;body=https%3a%2f%2fwww.newresalhaider.com%2fpost%2fcurry-lol%2f">
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


      </div>
    </div>
    <div class="col-6">
      <div class="split-header-image">
        <img src="/post/curry-lol/featured_hu263f295b62b0901e91f593ed0512e4ad_122491_680x500_fill_q90_box_smart1.jpg" itemprop="image" alt="">
        <span class="article-header-caption">League of Legends champions Copyright Riot Games</span>
      </div>
    </div>
  </div>
</div>

<div class="article-container d-xl-none">
  <h1 itemprop="name">To Curry in League of Legends</h1>

  

  

<div class="article-metadata">

  
  
  <span itemscope itemprop="author" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Newres Al Haider">
  </span>
  

  <span class="article-date">
    
    <meta content="2020-07-04 00:00:00 &#43;0200 CEST" itemprop="datePublished">
    <time datetime="2020-07-04 00:00:00 &#43;0200 CEST" itemprop="dateModified">
      4 Jul, 2020
    </time>
  </span>
  <span itemscope itemprop="publisher" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Newres Al Haider">
  </span>

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    16 min read
  </span>
  

  
  

  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=To%20Curry%20in%20League%20of%20Legends&amp;url=https%3a%2f%2fwww.newresalhaider.com%2fpost%2fcurry-lol%2f"
         target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.newresalhaider.com%2fpost%2fcurry-lol%2f"
         target="_blank" rel="noopener">
        <i class="fab fa-facebook-f"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fwww.newresalhaider.com%2fpost%2fcurry-lol%2f&amp;title=To%20Curry%20in%20League%20of%20Legends"
         target="_blank" rel="noopener">
        <i class="fab fa-linkedin-in"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=https%3a%2f%2fwww.newresalhaider.com%2fpost%2fcurry-lol%2f&amp;title=To%20Curry%20in%20League%20of%20Legends"
         target="_blank" rel="noopener">
        <i class="fab fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=To%20Curry%20in%20League%20of%20Legends&amp;body=https%3a%2f%2fwww.newresalhaider.com%2fpost%2fcurry-lol%2f">
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>


  







  









</div>



  <div class="article-container">

    <div class="article-style" itemprop="articleBody">
      <p>One of the most well-known and popular online multi-player games is <a href="https://euw.leagueoflegends.com/en-gb/" target="_blank">League of Legends</a>. In this game two teams of five players compete against other. Within the game each player controls a champion that they can use to defeat the enemy team by destroying their base. There are many aspects required to winning a game of League of Legends: good in-game strategy, good control of champions but also selecting a good composition of 5 champions, out of more than a hundred, that fits the needs of the players and play-styles.</p>

<p>One of the lesser-known, but nonetheless very innovative, programming languages is <a href="https://www-ps.informatik.uni-kiel.de/currywiki/" target="_blank">Curry</a>. What makes this language so unique that it is a functional logic language. This means that it combines features of functional programming, composing a program through functions, and logic programming, defining the program as predicates of a logic system and searching for answers.</p>

<p>This article aims to give an introduction to the Curry language by creating a small system in it that matches and recommends League Of Legends champions based on player preferences.</p>

<p>If you want to code along with this article, one can use <a href="https://www-ps.informatik.uni-kiel.de/smap/smap.cgi?new/curry" target="_blank">SMAP</a> to evaluate Curry code online, aside from installing a Curry language implementation such as <a href="https://www.informatik.uni-kiel.de/~pakcs/" target="_blank">PACKS</a> locally. The code described in this article can be found in a <a href="https://github.com/newres/curry-league" target="_blank">source repository</a> in its entirety as well.</p>

<p>In order to build such a recommendation system, the first thing we need to do is figure out a way to represent both the player preferences and the League of Legends champions in Curry.</p>

<p>To start off, let&rsquo;s define the aspects of a champion in Curry as follows:</p>

<pre><code class="language-haskell">module Main where

data Tag = Fighter | Tank | Marksman | Assassin | Mage | Support
         deriving (Show, Eq)
                                       
data Champion =
     Champion {name :: String,
              attack :: Int,
              defense :: Int,
              magic :: Int,
              difficulty :: Int,
              tags :: []Tag}
     deriving (Show, Eq)
</code></pre>

<p>Lets just go over the above code step-by-step.</p>

<p>The first line is the module declaration, which is essentially a grouping of related code together. We will define all elements required for our champion recommendation program in this Main module.</p>

<p>Next we define the data types for our representation of Champion Tags and Champions. Curry is a statically typed language, meaning you can define the structure of the data as types, and you can check these types at compile time before the actual program is run. For example, it only allows the following Tags to be used for the Champions: Fighter, Tank, Marksman, Assassin, Mage, Support. Similarly, a Champion is a record of very specific keys and types of values. For example it has a field for <code>name</code> that must be a string of characters, a field for <code>attack</code> that must be an integer number and a field for <code>tags</code> which must be a list of Tags that we previously defined.</p>

<p>These types allow us to define various champions avaiable in League of Legends. For example, the champion Aatrox can be defined as:</p>

<pre><code class="language-haskell">aatrox :: Champion
aatrox = Champion {name = &quot;Aatrox&quot;,
                       attack = 8,
                       defense = 4,
                       magic = 3,
                       difficulty = 4,
                       tags = [Fighter, Tank]
                       }
</code></pre>

<p>Note that this is a correct champion as it fulfills every criteria we gave to the type of Champion. If we would define this champion in the wrong way, such as:</p>

<pre><code class="language-haskell">aatrox :: Champion
aatrox = Champion {name = &quot;Aatrox&quot;,
                       attack = &quot;high&quot;,
                       defense = 4,
                       magic = 3,
                       difficulty = 4,
                       tags = [Fighter, Tank]
                       }
</code></pre>

<p>the compiler of Curry would give us an error, &ldquo;Type error in record construction&rdquo;, along with some additional information that the attack field has a value that does not match the type.</p>

<p>In this definition we explicitly denoted that Aatrox is of the type champion using the line:</p>

<pre><code class="language-haskell">aatrox :: Champion
</code></pre>

<p>This is not a strict requirement. Curry can infer the type simply from the constructor of the record <code>Champion</code>. Curry can perform type inference even in many other more complex cases, but for clarity we will give the types of records and functions whenever we can.</p>

<p>The final part of this definition, is the portion:</p>

<pre><code class="language-haskell">     deriving (Show, Eq)
</code></pre>

<p>Without going into too much detail, these makes instances of Champions, and Tags, easy to compare and print as a string.</p>




<figure>

<img src="/img/post/2020/curry-lol/Aatrox.jpg" />



<figcaption data-pre="Figure " data-post=":" >
  <h4>Aatrox, a champion in League of Legends Copyright Riot Games</h4>
  
</figcaption>

</figure>

<p>The above code should be very familiar to <a href="https://www.haskell.org/" target="_blank">Haskell</a> programmers! The syntax, the type system and many other aspects of Curry are heavily influenced by Haskell. Even the naming of the two languages have the same origin: they are both named after the logician <a href="https://en.wikipedia.org/wiki/Haskell_Curry" target="_blank">Haskell Curry</a>.</p>

<p>Now that we got the basics out of the way let us define a lot more champions than just Aatrox.</p>

<pre><code class="language-haskell">aatrox :: Champion
aatrox = Champion {name = &quot;Aatrox&quot;,
                       attack = 8,
                       defense = 4,
                       magic = 3,
                       difficulty = 4,
                       tags = [Fighter, Tank]
                       }
darius :: Champion
darius = Champion {name = &quot;Darius&quot;,
                   attack = 9,
                   defense = 5,
                   magic = 1,
                   difficulty = 2,
                   tags = [Fighter, Tank]
                  }


fiora :: Champion
fiora = Champion {name = &quot;Fiora&quot;,
                  attack = 10,
                  defense = 4,
                  magic = 2,
                  difficulty = 3,
                  tags = [Fighter, Assassin]
                 }

gnar :: Champion
gnar = Champion {name = &quot;Gnar&quot;,
                 attack = 6,
                 defense = 5,
                 magic = 5,
                 difficulty = 8,
                 tags = [Fighter, Tank]
                 }

irelia :: Champion
irelia = Champion {name = &quot;Irelia&quot;,
                  attack = 7,
                  defense = 4,
                  magic = 5,
                  difficulty = 5,
                  tags = [Fighter, Assassin]
                  }

karma :: Champion
karma = Champion {name = &quot;Karma&quot;,
                  attack = 1,
                  defense = 7,
                  magic = 8,
                  difficulty = 5,
                  tags = [Mage, Support]
                  }

maokai :: Champion
maokai = Champion {name = &quot;Maokai&quot;,
                   attack = 3,
                   defense = 8,
                   magic = 6,
                   difficulty = 3,
                   tags = [Tank, Mage]
                  }

neeko :: Champion
neeko = Champion {name = &quot;Neeko&quot;,
                  attack = 1,
                  defense = 1,
                  magic = 9,
                  difficulty = 5,
                  tags = [Mage, Support]
                  }

sylas :: Champion
sylas = Champion {name = &quot;Sylas&quot;,
                  attack = 3,
                  defense = 4,
                  magic = 8,
                  difficulty = 5,
                  tags = [Mage, Assassin]
                  }

vayne :: Champion 
vayne = Champion {name = &quot;Vayne&quot;,
                  attack = 10,
                  defense = 1,
                  magic = 1,
                  difficulty = 8,
                  tags = [Marksman, Assassin]
                  }

champions :: [Champion]
champions = [aatrox,
             darius,
             fiora,
             gnar,
             irelia,
             karma,
             maokai,
             neeko,
             sylas,
             vayne
            ]
</code></pre>

<p>The above code defines a total of 10 different Champions that exist in League of Legends, whose data values are derived from Riot games <a href="https://developer.riotgames.com/docs/lol#data-dragon_champions" target="_blank">Data Dragon API</a>. For easy access, we define a list of champions as the aptly named <code>champions</code>. Note that in Curry a list is denoted by elements between <code>[]</code>. The type for a list of elements is denoted by using these bracket in front of the type, such as <code>[]Tag</code>, which denotes the type of a list of Tags.</p>

<p>Now that we have the champion definitions out of the way, we also want to define player preferences that we aim to match champions against. Here our preferences consists of a summoner name, identifying the player, minimum requirements for the champion&rsquo;s attack, defense and magic values, a maximum difficulty rating, as well as tags on type of champions the player prefers.</p>

<pre><code class="language-haskell">data Preference =
    Preference {summonerName :: String,
                minAttack :: Int,
                minDefense :: Int,
                minMagic :: Int,
                maxDifficulty :: Int,
                prefTags :: []Tag}
     deriving (Show, Eq)
</code></pre>

<p>Using this Preference type we define two player preferences, one for Alice and one for Bob, as well as a collection for both of them.</p>

<pre><code class="language-haskell">alicePref :: Preference
alicePref = Preference {  summonerName = &quot;Alice&quot;,
                          minAttack = 2,
                          minDefense = 1,
                          minMagic = 4,
                          maxDifficulty = 3,
                          prefTags = [Mage]
                         }

bobPref :: Preference
bobPref = Preference {  summonerName = &quot;Bob&quot;,
                        minAttack = 2,
                        minDefense = 5,
                        minMagic = 2,
                        maxDifficulty = 1,
                        prefTags = [Tank, Support]}

preferences :: [Preference]
preferences = [ alicePref,
                bobPref
              ]
</code></pre>

<p>We have now defined both the champions and the player preferences and we can move towards creating the functionality to match them together. But first a bit of introduction, or a refresher depending on the readers background, to functional programming.</p>

<p>As mentioned at the start of this article, Curry is a language that supports both functional and logical programming. Functional programming allows us to express the program we want to write as a composition of functions.</p>

<p>To use an example, suppose we want to write a program that given a list of champions, returns only those champion that have an attack of more than 5. In order to do this we can first write a function that given a champion returns true if it has an attack more than 5 and returns false if this is not the case. Then we can use this function as filter inside another function, that only returns members of a list of champions that have more than 5 attack.</p>

<p>To put this together, such a function would look as follows:</p>

<pre><code class="language-haskell">highAttackChamps :: [Champion] -&gt; [Champion]
highAttackChamps champList = filter (\ champion -&gt; attack champion &gt;5) champList
</code></pre>

<p>There are a couple of things to note here.</p>

<p>First is that the function that &ldquo;returns true only if the attack of a champion is greater than 5&rdquo; has no name. Such anonymous functions, also known as lambda expressions, can be defined using a form starting with a backslash (\) followed by the parameter names of the function, followed by an arrow (-&gt;) and the expressions that this function should execute. In this case this expression first gets the attack of the champion and compares it, to give the right result. Anonymous functions are very convenient for expressions that we do not aim to reuse somewhere else.</p>

<p>The second thing to note is the function composition that allows the filtering. The <code>filter</code> function is a predefined function that is imported by default, as a part of a group of functions such as these called a Prelude. As mentioned before this takes a function as a parameter that returns a Bool (True or False), as well as a list, and returns only those members of the list for which the function returned true. Using a function as an argument makes the <code>filter</code> function very versatile. If we, for example wanted to filter based on champion defense, we could have just replaced function used as an argument. Such a composition using functions is one of the core elements of what makes functional programming so effective.</p>

<p>The final thing to note is how the <code>highAttackChamps</code> is given a type. The type declaration <code>highAttackChamps :: [Champion] -&gt; [Champion]</code> shows that this function takes a list of champions and returns a list of champions, where the arrow <code>-&gt;</code> functions as a separator between the type of the parameter(s) and/or the type of returned value.</p>

<p>Now that we got over the basics of functional programming lets start to put this knowledge to good use by writing a number of functions that helps us match the Preferences with the Champions. These functions are designed to match a single criteria within a Preference with the value of a Champion. If this match succeeds that the function returns True, if it fails it returns a False. We have a function to match based on attack, defense, magic and difficulty.</p>

<pre><code class="language-haskell">matchChampionAttack :: Preference -&gt; Champion -&gt; Bool
matchChampionAttack pref champ = (minAttack pref) &lt;= (attack champ) 

matchChampionDefense :: Preference -&gt; Champion -&gt; Bool
matchChampionDefense pref champ = (minDefense pref) &lt;= (defense champ) 

matchChampionMagic :: Preference -&gt; Champion -&gt; Bool
matchChampionMagic pref champ = (minMagic pref) &lt;= (magic champ) 

matchChampionDifficulty :: Preference -&gt; Champion -&gt; Bool
matchChampionDifficulty pref champ = (maxDifficulty pref) &gt;= (difficulty champ) 
</code></pre>

<p>Note that the type definition now have three elements separated by an arrow (-&gt;), as these functions have two parameters, a Preference and a Champion, and return a Bool (the type for True or False).</p>

<p>For matching the preferences, we are going to explore some of the logic programming features of Curry. In logic programming the program can be defined as a set of facts, rules and (logic) variables, where the underlying logic system can search for a suitable solution given the criteria.</p>

<p>Give given an example, suppose we are looking for Tag that is both part of the preferred tags of the Preferences as well as part of the tags of the Champions. We can state this problem exactly like this in Curry as follows:</p>

<pre><code class="language-haskell">matchChampionTag :: Preference -&gt; Champion -&gt; Bool
matchChampionTag pref champ = (elem tag (prefTags pref) &amp;&amp; elem tag (tags champ)) =:= True where tag free
</code></pre>

<p>To go over the elements in this code <code>(elem tag (prefTags pref) &amp;&amp; elem tag (tags champ))</code> express that <code>tag</code> has to be an element of both the <code>prefTags</code> of the a given preference and <code>tags</code> of the given champion. Unlike with our purely functional code above, we do not give the value of <code>tag</code> as a parameter. Instead we say that this variable is a free variable and let Curry find the values of Tag which makes the above constraint hold True  (i.e. the <code>=:= True where tag free</code> portion of the function).</p>

<p>Now that we have all the functions for matching individual elements (i.e.: attack, defense, magic, difficulty and tags) of champions to profiles, we can create combined functions such as <code>matchChampionAny</code> that holds true if any of the elements match and <code>matchChampionAll</code> for which all elements need to match.</p>

<pre><code class="language-haskell">matchChampionAny :: Preference -&gt; Champion -&gt; Bool
matchChampionAny pref champ =  matchChampionAttack pref champ ||
                               matchChampionDefense pref champ ||
                               matchChampionMagic pref champ ||
                               matchChampionDifficulty pref champ ||
                               matchChampionTag pref champ


matchChampionAll :: Preference -&gt; Champion -&gt; Bool
matchChampionAll pref champ =  matchChampionAttack pref champ &amp;&amp;
                                 matchChampionDefense pref champ &amp;&amp;
                                 matchChampionMagic pref champ &amp;&amp;
                                 matchChampionDifficulty pref champ &amp;&amp;
                                 matchChampionTag pref champ
</code></pre>

<p>One of the coolest features of this language, which we can see in the above definition, is the way logic programming elements can mix with functional elements. In both <code>matchChampionAny</code> and <code>matchChampionAll</code>  we use functions that make use of functional programming, as well as logic programming, seamlessly.</p>

<p>Once we got our functions for matching we can use these to match, we finally have all the ingredients to create recommendations. We are going to create two recommendation functions: one for matching based on <code>matchChampionAny</code> which is a &ldquo;weak&rdquo; criteria as any there are lot of opportunities to match and one based on <code>matchChampionAll</code> which is a lot &ldquo;stronger&rdquo; as all stats of a champion has to match with the preferences.</p>

<p>The functions for these is given as follows:</p>

<pre><code>recommendWeak :: Preference -&gt; [Champion] -&gt; [String]
recommendWeak preference champList = map (\ champion -&gt; name champion) (filter (\ champion -&gt; matchChampionAny preference champion ) champList)

recommendStrong :: Preference -&gt; [Champion] -&gt; [String]
recommendStrong preference champList = map (\champion -&gt; name champion) (filter (\ champion -&gt; matchChampionAll preference champion ) champList)
</code></pre>

<p>The constructs in here should look familiar with one exception: the use of <code>map (\champion -&gt; name champion)</code>. The <code>map</code> function is similar to <code>filter</code> in takes a function for a parameter as well as a list. Instead of filtering, in instead applies that function to all members of that list. The anonymous function used takes a champion and returns only the name value of that champion. This allows for the matching function to return not a list of champions, but a list of strings i.e.: <code>[String]</code> that are the names of the champions. This makes the return value much less verbose, as we can identify champions by name.</p>

<p>Finally, in order to show off the code detailed here with, we put together some examples of using the all the functions we defined. We then print the answers out, line by line for each of these examples. The main function, with the return type IO (), allows us to not to return a specific value but print the values out, to the REPL or the command-line, depending on how we use our code.</p>

<pre><code class="language-haskell">example1 :: [Champion]
example1 = highAttackChamps champions

example2 :: Bool
example2 = matchChampionAttack alicePref aatrox

example3 :: Bool
example3 = matchChampionDifficulty bobPref vayne 

example4 :: Bool
example4 =  matchChampionTag alicePref karma

example5 :: Bool
example5 =  matchChampionAny alicePref neeko

example6 :: Bool
example6 =  matchChampionAll bobPref gnar

example7 :: [String]
example7 =  recommendWeak alicePref champions

example8 :: [String]
example8 =  recommendWeak bobPref champions

example9 :: [String]
example9 =  recommendStrong alicePref champions

example10 :: [String]
example10 =  recommendStrong bobPref champions

main :: IO ()
main = putStrLn (&quot;Example 1, champions with more than 5 attack:&quot; ++ &quot;\n&quot; ++
                 (show example1) ++ &quot;\n&quot; ++
                 &quot;Example 2, matching Aatrox with Alice's preferences based on attack:&quot; ++ &quot;\n&quot; ++
                 (show example2) ++ &quot;\n&quot; ++
                 &quot;Example 3, matching Vayne with Bob's preferences based on difficulty:&quot; ++ &quot;\n&quot; ++
                 (show example3) ++ &quot;\n&quot; ++
                 &quot;Example 4, matching Karma with Alice's preferences based on tag(s):&quot; ++ &quot;\n&quot; ++
                 (show example4) ++ &quot;\n&quot; ++
                 &quot;Example 5, matching Neeko with Alice's preferences based on any matching criteria:&quot; ++ &quot;\n&quot; ++
                 (show example5) ++ &quot;\n&quot; ++
                 &quot;Example 6, matching Gnar with Bob's preferences based on all matching criteria:&quot; ++ &quot;\n&quot; ++
                 (show example6) ++ &quot;\n&quot; ++
                 &quot;Example 7, recommendation based on a weak criteria for Alice:&quot; ++ &quot;\n&quot; ++
                 (show example7) ++ &quot;\n&quot; ++
                 &quot;Example 8, recommendation based on a weak criteria for Bob:&quot; ++ &quot;\n&quot; ++
                 (show example8) ++ &quot;\n&quot; ++
                 &quot;Example 9, recommendation based on a strong criteria for Alice:&quot; ++ &quot;\n&quot; ++
                 (show example9) ++ &quot;\n&quot; ++
                 &quot;Example 10, recommendation based on a strong criteria for Bob:&quot; ++ &quot;\n&quot; ++
                 (show example10))
</code></pre>

<p>This results in the following being printed out:</p>

<pre><code class="language-haskell">Example 1, champions with more than 5 attack:
[Champion {name = &quot;Aatrox&quot;, attack = 8, defense = 4, magic = 3, difficulty = 4, tags = [Fighter,Tank]},Champion {name = &quot;Darius&quot;, attack = 9, defense = 5, magic = 1, difficulty = 2, tags = [Fighter,Tank]},Champion {name = &quot;Fiora&quot;, attack = 10, defense = 4, magic = 2, difficulty = 3, tags = [Fighter,Assassin]},Champion {name = &quot;Gnar&quot;, attack = 6, defense = 5, magic = 5, difficulty = 8, tags = [Fighter,Tank]},Champion {name = &quot;Irelia&quot;, attack = 7, defense = 4, magic = 5, difficulty = 5, tags = [Fighter,Assassin]},Champion {name = &quot;Vayne&quot;, attack = 10, defense = 1, magic = 1, difficulty = 8, tags = [Marksman,Assassin]}]
Example 2, matching Aatrox with Alice's preferences based on attack:
True
Example 3, matching Vayne with Bob's preferences based on difficulty:
False
Example 4, matching Karma with Alice's preferences based on tag(s):
True
Example 5, matching Neeko with Alice's preferences based on any matching criteria:
True
Example 6, matching Gnar with Bob's preferences based on all matching criteria:
False
Example 7, recommendation based on a weak criteria for Alice:
[&quot;Aatrox&quot;,&quot;Darius&quot;,&quot;Fiora&quot;,&quot;Gnar&quot;,&quot;Irelia&quot;,&quot;Karma&quot;,&quot;Maokai&quot;,&quot;Neeko&quot;,&quot;Sylas&quot;,&quot;Vayne&quot;]
Example 8, recommendation based on a weak criteria for Bob:
[&quot;Aatrox&quot;,&quot;Darius&quot;,&quot;Fiora&quot;,&quot;Gnar&quot;,&quot;Irelia&quot;,&quot;Karma&quot;,&quot;Maokai&quot;,&quot;Neeko&quot;,&quot;Sylas&quot;,&quot;Vayne&quot;]
Example 9, recommendation based on a strong criteria for Alice:
[&quot;Maokai&quot;]
Example 10, recommendation based on a strong criteria for Bob:
[]
</code></pre>

<p>Hopefully the result nothing is too surprising and it matches all expectations. The result also verifies some of our assumptions: the weak criteria matches everything in this case, but a strong criteria has some nice results: Maokai is well suited for Alice, and Bob probably needs to widen his criteria, given the above 10 champions.</p>

<p>There are many ways we could proceed from this point on. As one could see from the examples the recommendation based on a weak criteria is quite weak, as anything matches, while a strong criteria can be too restrictive at times. Coming up with the different types of matching functions, could be a next step, if one wants to expand upon this small application. With multiple matching functions one can also write a function that takes a matching function as a parameter in order to avoid writing duplicate code for each recommendation function.</p>

<p>Hopefully this article has given you a bit of an intro to the Curry language and why it is so interesting. There exists a number of options for using functional and logic programming separately but this is one of the few languages that aims to combine both. If you wish to explore either paradigms further I wish you the best of luck to curry on with your endeavors.</p>

    </div>

    


<div class="article-tags">
  
  <a class="badge badge-light" href="/tags/functional-programming/">functional programming</a>
  
  <a class="badge badge-light" href="/tags/logic-programming/">logic programming</a>
  
  <a class="badge badge-light" href="/tags/declarative-programming/">declarative programming</a>
  
  <a class="badge badge-light" href="/tags/league-of-legends/">League of Legends</a>
  
  <a class="badge badge-light" href="/tags/haskell/">Haskell</a>
  
  <a class="badge badge-light" href="/tags/curry/">Curry</a>
  
</div>



    






<div class="media author-card" itemscope itemtype="http://schema.org/Person">
  
  <img class="portrait mr-3" src="/img/portrait.png" itemprop="image" alt="Avatar">
  
  <div class="media-body">
    <h5 class="card-title" itemprop="name"><a href="/">Newres Al Haider</a></h5>
    <h6 class="card-subtitle">Postdoctoral Researcher and Software Engineer</h6>
    
    <ul class="network-icon" aria-hidden="true">
      
      
      
      
        
      
      
      
      
      
      <li>
        <a itemprop="sameAs" href="mailto:newresjob@gmail.com" >
          <i class="fas fa-envelope"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://twitter.com/newresa" target="_blank" rel="noopener">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
      
      
      
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://scholar.google.nl/citations?user=b4MxbOEAAAAJ&amp;hl=en" target="_blank" rel="noopener">
          <i class="ai ai-google-scholar"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://github.com/newres" target="_blank" rel="noopener">
          <i class="fab fa-github"></i>
        </a>
      </li>
      
    </ul>
  </div>
</div>




    
    
    <div class="article-widget">
      <div class="hr-light"></div>
      <h3>Related</h3>
      <ul>
        
        <li><a href="/post/darmok-core-logic/">Darmok in core.logic</a></li>
        
        <li><a href="/post/art-of-choosing-language/">The Art of Choosing a Programming Language</a></li>
        
      </ul>
    </div>
    

    

    


  </div>
</article>

<div class="container">
  <footer class="site-footer">
  

  <p class="powered-by">
    &copy; 2017 Newres Al Haider &middot; 

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" id="back_to_top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

</div>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    
    
    <script src="/js/mathjax-config.js"></script>
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha512-+NqPlbbtM1QqiK8ZAo4Yrj2c4lNQoGv8P79DPtKzj++l5jnN39rHA/xsqn8zE9l0uSoxaCdrOgFs6yjyfbBxSg==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js" integrity="sha512-umsR78NN0D23AzgoZ11K7raBD+R6hqKojyBZs1w8WvYlsI+QuKRGBx3LFCwhatzBunCjDuJpDHwxD13sLMbpRA==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha256-VsEqElsCHSGmnmHXGQzvoWjWwoznFSZc6hs7ARLRacQ=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/clojure.min.js"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/lisp.min.js"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/prolog.min.js"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/haskell.min.js"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/dart.min.js"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/smalltalk.min.js"></script>
        
      

      
      
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_CHTML-full" integrity="sha256-GhM+5JHb6QUzOQPXSJLEWP7R73CbkisjzK5Eyij4U9w=" crossorigin="anonymous" async></script>
      
    

    
    

    
    
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/index.json";
      const i18n = {
        'placeholder': "Search...",
        'results': "results found",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    
    
    
    
    
    
    <script src="/js/academic.min.d037ee5294b166a79dec317c58aea9cc.js"></script>

    

  </body>
</html>

