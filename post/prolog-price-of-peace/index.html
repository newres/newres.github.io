<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Newres Al Haider</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css"> -->
  <link href="https:&#x2F;&#x2F;www.newresalhaider.com/style.css" rel="stylesheet">
  <script type="text/javascript" src="https://www.newresalhaider.com/scripts/menu.js"></script>
    <meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@newresa">
<meta name="twitter:creator" content="@newresa">


<meta name="twitter:title" content="Prolog and the Price of Peace">
<meta name="title" property="og:title" content="Prolog and the Price of Peace" />


<meta name="twitter:description" content="Introducing the Prolog programming language through Quark&#x27;s explanation for using the Third Rule of Acquisition to acquire peace at the lowest price. 
">
<meta name="description" property="og:description" content="Introducing the Prolog programming language through Quark&#x27;s explanation for using the Third Rule of Acquisition to acquire peace at the lowest price. 
" />


<meta name="author" content="Newres Al Haider" />
<meta property="article:author" content="Newres Al Haider">
<meta property="og:type" content="article" />

<meta property="article:published_time" content="2019-02-01">


    
        <meta property="article:tag" content="reasoning">
    
        <meta property="article:tag" content="rules">
    
        <meta property="article:tag" content="knowledge representation">
    
        <meta property="article:tag" content="Prolog">
    
        <meta property="article:tag" content="law">
    
        <meta property="article:tag" content="RegTech">
    
        <meta property="article:tag" content="Star Trek">
    
        <meta property="article:tag" content="Deep Space 9">
    


    <meta property="article:modified_time" content="2019-02-04">



<meta property="twitter:image" content="https://www.newresalhaider.com/post/prolog-price-of-peace/featured.jpg">
<meta property="og:image" content="https://www.newresalhaider.com/post/prolog-price-of-peace/featured.jpg" />


</head>

<body class="has-navbar-fixed-top">

    <nav class="navbar is-primary is-fixed-top" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
        <a class="navbar-item" href="/">
            <h1 class="title is-3">
                Newres Al Haider
            </h1>
        </a>
        <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="NavbarMenu">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
    </div>
    <div id="NavbarMenu" class="navbar-menu">
        <div class="navbar-start">
        </div>
        <div class="navbar-end">
            <a class="navbar-item" href="/">
                <h2 class="subtitle is-5">
                    Home
                </h2>
            </a>
            <a class="navbar-item" href="/post/">
                <h2 class="subtitle is-5">
                    Posts
                </h2>
            </a>
            <a class="navbar-item" href="/project/">
                <h2 class="subtitle is-5">
                    Projects
                </h2>
            </a>
            <a class="navbar-item" href="/publication/">
                <h2 class="subtitle is-5">
                    Publications
                </h2>
            </a>
        </div>
    </div>
</nav>
  <section class="section">
    <div class="container">
      

<h1 class="title">
    Prolog and the Price of Peace
</h1>
<p class="subtitle"><strong>2019-02-01</strong></p>
<p>The use of logic is a common element in Science Fiction. In the Star Trek universe <a href="https://en.wikipedia.org/wiki/Vulcan_(Star_Trek)">Vulcans</a> are a species that is famously known for aiming to live by logic and reason. Because of this they are often considered masters of these subjects. Yet there was a case in an episode of the Star Trek show <a href="http://memory-alpha.wikia.com/wiki/The_Maquis,_Part_II_(episode)">Deep Space 9</a>, where <a href="https://en.wikipedia.org/wiki/Quark_(Star_Trek)">Quark</a>, a <a href="https://en.wikipedia.org/wiki/Ferengi">Ferengi</a>, was able to convince Sakonna, a Vulcan, of the error of her logic and reasoning. </p>
<p>For this Quark made use of Ferengi philosophy, namely the Third Rule of Acquisition. The Rules of Acquisition are a series of proverbs and guidelines that govern Ferengi society, and notably their business dealings that take a prominent place in their lives. The Third Rule of Acquisition states that &quot;Never spend more for an acquisition than you have to.&quot; By applying this rule to the situation in the episode Quark was able make it clear to Sakonna that the best time broker a peace agreement would be &quot;right now&quot;, as the price of peace is at an all time low. </p>
<figure>
  <img src="featured.jpg"  />
  <figcaption>
      <h4>Quark explaining the Third Rule of Acquisition to Sakonna Copyright CBS Corporation.</h4>
  </figcaption>
</figure>
<!-- {{< figure src="featured.jpg" title="Quark explaining the Third Rule of Acquisition to Sakonna" attr="Copyright CBS Corporation" >}} -->
<p>Much like with Ferengi society, various rules and regulations play a prominent role in our lives and dealings with each other. So much so, that navigating the various rules to their logical conclusion, whether in the realm of law, finance and other domains, is often a difficult process. Thankfully there are tools and techniques to help us. The programming language Prolog, in particular, can be a very helpful in dealing with various rules and logical problems. This article aims to provide a brief introduction to this language using by using it to show how Quark's reasoning can be implemented within a computer program.</p>
<p>Prolog is a logic programming language, originally created in the 1970s, but with many modern implementations such as <a href="http://www.swi-prolog.org/">SWI-Prolog</a>. With logic programming programs are written and solved using some variation of a formal logic. Using such logic, information about the problem and its domain is first declared. Then the user can pose queries about the problem domain, which the programming language aims to answer through reasoning with the available information. This style of programming contrasts with the more common, imperative, paradigm. Instead of telling the computer how to solve the problem, we can declare information about the problem and let the computer, through the use of logic, solve it for us.</p>
<p>In order to show how Prolog works, we aim to use it to represent the same problem and reasoning that Quark used to convince Sakonna. To do this first lets examine the situation depicted the episode a bit more closely. In the episode the Maquis are a group that are at odds Cardassian colonists both living the Demilitarized Zone. Tensions were escalating as the Cardassian colonists were recently supplied in secret with weapons by the Cardassian Union. As a result Sakonna, along with other members of the Maquis, aimed at acquiring more weapons of their own. Even after it was found that the Cardassian Union was behind weapon supplies, Sakonna still aimed at gathering more, as a way to ensure peace. Quark pointed out the flaws in the logic of her argument, given the Third Rule of Acquisition: &quot;Never spend more for an acquisition than you have to.&quot; If the goal of Sakonna is truly to acquire peace, than it is the perfect time to be negotiating with the Cardassian colonists. With the flow of the smuggled in weapons having stopped, and both sides already having weapons, neither the Maquis nor the Cardassian colonists have any advantage. By aiming to acquire weapons still, they would only escalate the conflict, and making peace more costly in the long run.</p>
<p>To express this scenario with Prolog, we are going to introduce some elements of this language first (for a bit more through introduction see the excellent <a href="http://www.learnprolognow.org/">Learn Prolog Now!</a> available online). There are three basic elements to a Prolog program: facts, rules and queries. </p>
<p>Facts are elements that have been stated to hold. For example the following statement:</p>
<pre data-lang="pro" style="background-color:#2b303b;color:#c0c5ce;" class="language-pro "><code class="language-pro" data-lang="pro"><span style="color:#8fa1b3;">advantage</span><span>(cardassians).
</span></code></pre>
<p>can be used to denote that the advantage is held by the Cardassians colonists.</p>
<p>Rules are a way for Prolog to infer new information from the knowledge that already exists. For example if we aim to state that &quot;if the Cardassian colonists have the advantage the price of peace is high&quot; in Prolog we would have the rule: </p>
<pre data-lang="pro" style="background-color:#2b303b;color:#c0c5ce;" class="language-pro "><code class="language-pro" data-lang="pro"><span style="color:#8fa1b3;">priceOfPeace</span><span>(high) :- </span><span style="color:#8fa1b3;">advantage</span><span>(cardassians).
</span></code></pre>
<p>There are two parts to writing such rules in Prolog: the body and the head. The body of the rule is in this case <code>advantage(cardassians)</code> while the head is <code>priceOfPeace(high)</code>. In Prolog if the body of the rule holds true, than it can be concluded that the head is true as well. This exactly matches to what we aim to express: if the Prolog program knows that the Cardassian colonists hold the advantage, than it can conclude that the price of peace is high. </p>
<p>Facts and rules together form the knowledge base that can describe a domain. In this case the domain is the situation between the Cardassian colonists and the Maquis. The final piece, queries, allows us to examine this knowledge base and ask questions on what Prolog can infer from this knowledge. For the above example we could query whether the price of peace is indeed high, which should follow directly from the semantics of the rules and facts that we have described.</p>
<p>Given that we load in the knowledge base consisting of the above-mentioned fact and rule, the query: </p>
<pre data-lang="pro" style="background-color:#2b303b;color:#c0c5ce;" class="language-pro "><code class="language-pro" data-lang="pro"><span>?-  </span><span style="color:#8fa1b3;">priceOfPeace</span><span>(high).
</span></code></pre>
<p>that asks whether the price of peace is high, will return <code>true</code> indicating that this is indeed the case. Instead if we ask whether the price of peace is low, using the query:</p>
<pre data-lang="pro" style="background-color:#2b303b;color:#c0c5ce;" class="language-pro "><code class="language-pro" data-lang="pro"><span>?-  </span><span style="color:#8fa1b3;">priceOfPeace</span><span>(low).
</span></code></pre>
<p>the result will be <code>false</code> indicating this is not the case.</p>
<p>We can also ask more open ended questions using variables. Variables are written by starting with a capitalized letter (or an underscore), such as <code>X</code>. These variables could be used to write queries with unknowns. The query: </p>
<pre data-lang="pro" style="background-color:#2b303b;color:#c0c5ce;" class="language-pro "><code class="language-pro" data-lang="pro"><span>?-  </span><span style="color:#8fa1b3;">priceOfPeace</span><span>(X).
</span></code></pre>
<p>will give us the result: </p>
<pre data-lang="pro" style="background-color:#2b303b;color:#c0c5ce;" class="language-pro "><code class="language-pro" data-lang="pro"><span>X = high
</span></code></pre>
<p>Which again is what would directly follow from the facts and the rules. What Prolog does with variables is to try to &quot;unify&quot; them with known values that match (or other variables). In this case from the knowledge base we have given it, it unifies it with the value of <code>high</code>. </p>
<p>From the basic elements of facts, rules and queries Prolog is able to represent and answer problems in many domains. This is also shows off the feature of a logical programming language, such as Prolog, that make it different compared to many other programming languages. Instead of telling the program what to do, the program becomes a description of the domain, over which queries are answered to solve the overall goal. </p>
<p>Beyond the above basics, Prolog has many features to support the description of more complicated domains. Here we only list a few that helps us to convey our translation of Quark's reasoning into Prolog. </p>
<p>One such feature is the use variables within the rules themselves. The rule </p>
<pre data-lang="pro" style="background-color:#2b303b;color:#c0c5ce;" class="language-pro "><code class="language-pro" data-lang="pro"><span style="color:#8fa1b3;">acquirePeace</span><span>(X) :- </span><span style="color:#8fa1b3;">priceOfPeace</span><span>(X).
</span></code></pre>
<p>indicates that the price of acquiring peace depends on the price of peace.</p>
<p>The rule </p>
<pre data-lang="pro" style="background-color:#2b303b;color:#c0c5ce;" class="language-pro "><code class="language-pro" data-lang="pro"><span style="color:#8fa1b3;">priceOfPeace</span><span>(low)  :- </span><span style="color:#8fa1b3;">advantage</span><span>(cardassians), </span><span style="color:#8fa1b3;">advantage</span><span>(maquis).
</span></code></pre>
<p>shows off the logical operator <strong>and</strong>, meaning that the price of peace is low if both the Cardassians and the Maquis have the advantage. </p>
<p>The rule</p>
<pre data-lang="pro" style="background-color:#2b303b;color:#c0c5ce;" class="language-pro "><code class="language-pro" data-lang="pro"><span style="color:#8fa1b3;">priceOfPeace</span><span>(low)  :- \+ </span><span style="color:#8fa1b3;">advantage</span><span>(cardassians), \+ </span><span style="color:#8fa1b3;">advantage</span><span>(maquis).
</span></code></pre>
<p>shows off the logical <strong>not</strong>, denoted by the '+' symbol, which states that the price of peace is also low if neither the Cardassians nor the Maquis have the advantage.</p>
<p>Finally, much like in other languages, comments for the code can also be written. This is done by prefacing a line with &quot;%%&quot;.</p>
<p>Now if we put every element together to use Prolog to describe Quarks scenario, a possible knowledge base is as follows:</p>
<pre data-lang="pro" style="background-color:#2b303b;color:#c0c5ce;" class="language-pro "><code class="language-pro" data-lang="pro"><span>%% Rules
</span><span style="color:#8fa1b3;">acquirePeace</span><span>(X)  :- </span><span style="color:#8fa1b3;">priceOfPeace</span><span>(X).
</span><span>
</span><span style="color:#8fa1b3;">priceOfPeace</span><span>(low)  :- \+ </span><span style="color:#8fa1b3;">advantage</span><span>(cardassians), \+ </span><span style="color:#8fa1b3;">advantage</span><span>(maquis).
</span><span style="color:#8fa1b3;">priceOfPeace</span><span>(low)  :- </span><span style="color:#8fa1b3;">advantage</span><span>(cardassians), </span><span style="color:#8fa1b3;">advantage</span><span>(maquis).
</span><span style="color:#8fa1b3;">priceOfPeace</span><span>(high) :- </span><span style="color:#8fa1b3;">advantage</span><span>(cardassians).
</span><span style="color:#8fa1b3;">priceOfPeace</span><span>(low) :- </span><span style="color:#8fa1b3;">advantage</span><span>(maquis).
</span><span>
</span><span>
</span><span style="color:#8fa1b3;">advantage</span><span>(cardassians)  :- </span><span style="color:#8fa1b3;">weapons</span><span>(cardassians), \+ </span><span style="color:#8fa1b3;">weapons</span><span>(maquis).
</span><span style="color:#8fa1b3;">advantage</span><span>(maquis)  :- \+ </span><span style="color:#8fa1b3;">weapons</span><span>(cardassians), </span><span style="color:#8fa1b3;">weapons</span><span>(maquis).
</span><span>
</span><span>%% Facts
</span><span style="color:#8fa1b3;">weapons</span><span>(cardassians).
</span><span style="color:#8fa1b3;">weapons</span><span>(maquis).
</span></code></pre>
<p>In the overall knowledge base, the logic of Quark's reasoning is broken down into a number of rules and a pair of facts. </p>
<p>The rules state that advantage of either side, the Cardassians settlers or the Maquis, is decided by one side having weapons while the other side has not. The price of peace is in turn dependent on who has the advantage. In this formalisation the price of peace is only high if Cardassians have the advantage. Finally the price of acquiring peace is dependent solely on the price of peace.</p>
<p>The facts for this scenario is that both the Cardassian settlers and the Maquis have weapons. </p>
<p>With this knowledge base describing Quark's reasoning process the query to see for what price we can aquire peace:</p>
<pre data-lang="pro" style="background-color:#2b303b;color:#c0c5ce;" class="language-pro "><code class="language-pro" data-lang="pro"><span>?-  </span><span style="color:#8fa1b3;">acquirePeace</span><span>(X).
</span></code></pre>
<p>will indeed return</p>
<pre data-lang="pro" style="background-color:#2b303b;color:#c0c5ce;" class="language-pro "><code class="language-pro" data-lang="pro"><span>X = low
</span></code></pre>
<p>indicating that acquiring peace can be done at a low price. </p>
<p>Going a bit beyond this query, if we would further want to test the logic of Quark's scenario, we can also inquire about other information.</p>
<p>For example if we would ask for the price of peace:</p>
<pre data-lang="pro" style="background-color:#2b303b;color:#c0c5ce;" class="language-pro "><code class="language-pro" data-lang="pro"><span>?-  </span><span style="color:#8fa1b3;">priceOfPeace</span><span>(X).
</span></code></pre>
<p>we would also unsurprisingly get </p>
<pre data-lang="pro" style="background-color:#2b303b;color:#c0c5ce;" class="language-pro "><code class="language-pro" data-lang="pro"><span>X = low
</span></code></pre>
<p>as with the rules defined in our knowledge base these values are intertwined. </p>
<p>We can also ask for who has the advantage:</p>
<pre data-lang="pro" style="background-color:#2b303b;color:#c0c5ce;" class="language-pro "><code class="language-pro" data-lang="pro"><span>?-  </span><span style="color:#8fa1b3;">advantage</span><span>(X).
</span></code></pre>
<p>which will return: </p>
<pre data-lang="pro" style="background-color:#2b303b;color:#c0c5ce;" class="language-pro "><code class="language-pro" data-lang="pro"><span style="color:#d08770;">false</span><span>.
</span></code></pre>
<p>which is completely in line with the scenario that noone has the advantage. </p>
<p>We can also ask who has weapons, the query of:</p>
<pre data-lang="pro" style="background-color:#2b303b;color:#c0c5ce;" class="language-pro "><code class="language-pro" data-lang="pro"><span>?-  </span><span style="color:#8fa1b3;">weapons</span><span>(X).
</span></code></pre>
<p>gives us the answer</p>
<pre data-lang="pro" style="background-color:#2b303b;color:#c0c5ce;" class="language-pro "><code class="language-pro" data-lang="pro"><span>X = cardassians
</span></code></pre>
<p>... but wait, this can not be right! Did we not state in the knowledge base that both the Cardassian colonists and the Maquis have weapons? Prolog can actually return mutliple answers, if they exist. In <a href="http://www.swi-prolog.org/">SWI-Prolog</a> this can be done by pressing semicolon (<code>;</code>) after an answer, in which case another answers is returned, if it exists or simply false otherwise. By pressing <code>;</code> once after the first answer we will see a total output such as:</p>
<pre data-lang="pro" style="background-color:#2b303b;color:#c0c5ce;" class="language-pro "><code class="language-pro" data-lang="pro"><span>X = cardassians </span><span style="color:#65737e;">;
</span><span>X = maquis.
</span></code></pre>
<p>Hopefully Sakonna would also be quite convinced with the logic of Prolog, but just to be absolutely sure, lets examine some scenario's where the facts of the scenario are changed. In such cases the rules should still be applied in ways that we would expect.</p>
<p>Suppose that our only fact now is that only the cardassians colonists have weapons, while rules remain the same. Giving the query for knowing the price of acquiring peace:</p>
<pre data-lang="pro" style="background-color:#2b303b;color:#c0c5ce;" class="language-pro "><code class="language-pro" data-lang="pro"><span>?-  </span><span style="color:#8fa1b3;">acquirePeace</span><span>(X).
</span></code></pre>
<p>will now return:</p>
<pre data-lang="pro" style="background-color:#2b303b;color:#c0c5ce;" class="language-pro "><code class="language-pro" data-lang="pro"><span>X = high 
</span></code></pre>
<p>Hopefully, much like Quark's application of the Third Rule of Acquisition, this intro would have been enough to convince Sakonna of the logic of purchasing peace at the lowest possible price. Similarly, I hope that as a reader, this article gave some insight to the usefulness of Prolog in such scenarios. Next time, you are dealing with a problem domain, that would easily match to a similar scenario of rules, facts and queries, give Prolog a try. It is, after all, a very logical choice.</p>


    </div>
  </section>
</body>

</html>
