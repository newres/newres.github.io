<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Newres Al Haider</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css"> -->
  <link href="https:&#x2F;&#x2F;www.newresalhaider.com/style.css" rel="stylesheet">
  <script type="text/javascript" src="https://www.newresalhaider.com/scripts/menu.js"></script>
    <meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@newresa">
<meta name="twitter:creator" content="@newresa">


<meta name="twitter:title" content="Aesopica, Part 1: General Introduction">
<meta name="title" property="og:title" content="Aesopica, Part 1: General Introduction" />


<meta name="twitter:description" content="A way to represent Linked Data using Clojure, with an example based on Aesop&#x27;s stories. Part 1: General Introduction.
">
<meta name="description" property="og:description" content="A way to represent Linked Data using Clojure, with an example based on Aesop&#x27;s stories. Part 1: General Introduction.
" />


<meta name="author" content="Newres Al Haider" />
<meta property="article:author" content="Newres Al Haider">
<meta property="og:type" content="article" />

<meta property="article:published_time" content="2018-09-10">


    
        <meta property="article:tag" content="Clojure">
    
        <meta property="article:tag" content="Linked Data">
    
        <meta property="article:tag" content="RDF">
    
        <meta property="article:tag" content="Semantic Web">
    
        <meta property="article:tag" content="knowledge representation">
    
        <meta property="article:tag" content="knowledge graph">
    
        <meta property="article:tag" content="Aesopica">
    


    <meta property="article:modified_time" content="2018-09-10">



<meta property="twitter:image" content="https://www.newresalhaider.com/post/static/img/series/aesopica/foxandstork-header.png">
<meta property="og:image" content="https://www.newresalhaider.com/post/static/img/series/aesopica/foxandstork-header.png" />


</head>

<body class="has-navbar-fixed-top">

    <nav class="navbar is-primary is-fixed-top" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
        <a class="navbar-item" href="/">
            <h1 class="title is-3">
                Newres Al Haider
            </h1>
        </a>
        <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="NavbarMenu">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
    </div>
    <div id="NavbarMenu" class="navbar-menu">
        <div class="navbar-start">
        </div>
        <div class="navbar-end">
            <a class="navbar-item" href="/">
                <h2 class="subtitle is-5">
                    Home
                </h2>
            </a>
            <a class="navbar-item" href="/post/">
                <h2 class="subtitle is-5">
                    Posts
                </h2>
            </a>
            <a class="navbar-item" href="/project/">
                <h2 class="subtitle is-5">
                    Projects
                </h2>
            </a>
            <a class="navbar-item" href="/publication/">
                <h2 class="subtitle is-5">
                    Publications
                </h2>
            </a>
        </div>
    </div>
</nav>
  <section class="section">
    <div class="container">
      

<h1 class="title">
    Aesopica, Part 1: General Introduction
</h1>
<p class="subtitle"><strong>2018-09-10</strong></p>
<p>The stories called Aesop's Fables or the Aesopica, are an ancient collection of stories that have been passed down to modern day. These stories are of diverse origins they cover a wide variety of themes. Although originally intended for an adult audience, in later times were often used for the education of children.</p>
<p>One of such stories is the tale of the Fox and the Stork. There are many versions of this fable, but the overall outline is generally as follows:</p>
<blockquote>
<p>&quot;The fox invited the stork to dinner. At the dinner soup was served from a shallow plate, that the fox could eat but the hungry stork could not even taste. In turn the stork invited the fox to a dinner. Dinner was served in a narrow mouthed jug filled with crumbled food. This time the fox could not reach the food, while the stork ate.&quot;</p>
</blockquote>
<figure class=centeredfig>
    <img src=&#x2F;img&#x2F;series&#x2F;aesopica&#x2F;foxandstork.jpg>
    
    <figcaption>
        
        <h4>1884 fountain design depicting the story of the Fox and the Stork by Catalan sculptor Eduard Batiste Alentorn in Barcelona</h4>
        
        
    </figcaption>
</figure>
<!-- {{< figure src="/img/post/2018/aesopica/aesopica-1/foxandstork.jpeg" title="A 1884 fountain design depicting the story of the Fox and the Stork by Catalan sculptor Eduard Batiste Alentorn in Barcelona" attr="By Jordiferrer - Own work, CC BY-SA 3.0" attrlink="https://commons.wikimedia.org/w/index.php?curid=25764300" >}} -->
<p>The intention of stories such as these, as well as text in general, is to convey meaning. However, in addition to humans, a new audience for text has come to light in recent years: machines. To facilitate this new audience a set of technologies has been developed to convey the meaning of text in a precise and unambiguous way that is easily understandable for both humans and machines alike. Many of these new methods fall under the umbrella of the <a href="https://www.w3.org/standards/semanticweb/">Semantic Web</a>. The goal of the Semantic Web is to create a web of data where the meaning of the information is both human and machine understandable.</p>
<p>One of the cornerstone technologies in conveying information for this purpose is <a href="https://www.w3.org/standards/semanticweb/data">Linked Data</a>, and in particular the <a href="https://www.w3.org/RDF/">Resource Description Framework (RDF)</a> standard that defines how this Linked Data can be expressed. I have written a <a href="https://www.newresalhaider.com/post/interlinked-data/">short introduction to Linked Data</a> before but to summarize: it allows for the expressing information as a set of facts. These facts have the form of subject, predicate, object triples. A set of these facts is often called a knowledge base, or in an alternative view this can also been seen as a knowledge graph where the facts define the nodes and edges.</p>
<p>In a Linked Data representation the story of Fox and the Stork would look something like this: </p>
<pre data-lang="ttl" style="background-color:#2b303b;color:#c0c5ce;" class="language-ttl "><code class="language-ttl" data-lang="ttl"><span style="color:#b48ead;">@base </span><span style="color:#d08770;">&lt;http://www.newresalhaider.com/ontologies/aesop/foxstork/&gt;</span><span> .</span><span>
</span><span style="color:#b48ead;">@prefix </span><span style="color:#ebcb8b;">rdf: </span><span style="color:#d08770;">&lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;</span><span> .</span><span>
</span><span>
</span><span style="color:#d08770;">&lt;fox&gt; </span><span style="color:#ebcb8b;">rdf:</span><span style="color:#bf616a;">type </span><span style="color:#d08770;">&lt;animal&gt;</span><span>.</span><span>
</span><span style="color:#d08770;">&lt;stork&gt; </span><span style="color:#ebcb8b;">rdf:</span><span style="color:#bf616a;">type </span><span style="color:#d08770;">&lt;animal&gt;</span><span>.</span><span>
</span><span style="color:#d08770;">&lt;fox&gt; &lt;gives-invitation&gt; &lt;invitation1&gt;</span><span>.</span><span>
</span><span style="color:#d08770;">&lt;invitation1&gt; &lt;has-invited&gt; &lt;stork&gt;</span><span>.</span><span>
</span><span style="color:#d08770;">&lt;invitation1&gt; &lt;has-food&gt; &lt;soup&gt;</span><span>.</span><span>
</span><span style="color:#d08770;">&lt;invitation1&gt; &lt;serves-using&gt; &lt;shallow-plate&gt;</span><span>.</span><span>
</span><span style="color:#d08770;">&lt;stork&gt; &lt;gives-invitation&gt; &lt;invitation2&gt;</span><span>.</span><span>
</span><span style="color:#d08770;">&lt;invitation2&gt; &lt;has-invited&gt; &lt;fox&gt;</span><span>.</span><span>
</span><span style="color:#d08770;">&lt;invitation2&gt; &lt;has-food&gt; &lt;crumbled-food&gt;</span><span>.</span><span>
</span><span style="color:#d08770;">&lt;invitation2&gt; &lt;serves-using&gt; &lt;narrow-mouthed-jug&gt;</span><span>.</span><span>
</span><span style="color:#d08770;">&lt;fox&gt; &lt;can-eat-food-served-using&gt; &lt;shallow-plate&gt;</span><span>.</span><span>
</span><span style="color:#d08770;">&lt;fox&gt; &lt;can-not-eat-food-served-using&gt; &lt;narrow-mouthed-jug&gt;</span><span>.</span><span>
</span><span style="color:#d08770;">&lt;stork&gt; &lt;can-eat-food-served-using&gt; &lt;narrow-mouthed-jug&gt;</span><span>.</span><span>
</span><span style="color:#d08770;">&lt;stork&gt; &lt;can-not-eat-food-served-using&gt; &lt;shallow-plate&gt;</span><span>.</span><span>
</span></code></pre>
<p>This is in the <a href="https://www.w3.org/TR/turtle/">Turtle syntax</a> of RDF. There are other types of syntax are available to represent Linked Data, for example in JSON form as <a href="https://www.w3.org/TR/json-ld/">JSON-LD</a>.</p>
<p>To summarize a bit of what this Linked Data format does in this scenario, is that it uses <a href="https://en.wikipedia.org/wiki/Uniform_Resource_Identifier">Uniform Resource Identifiers (URIs)</a> to define the subjects, predicates and objects of each fact. This allows to precisely and unambiguously define and link the meaning between these elements. For example, the fact that the fox is a type of animal could be expressed by the triple with the full URIs: <code>http://www.newresalhaider.com/ontologies/aesop/foxstork/fox http://www.w3.org/1999/02/22-rdf-syntax-ns#type http://www.newresalhaider.com/ontologies/aesop/foxstork/animal .</code> Due to the fact that writing the full URIs can be quite cumbersome, the Turtle syntax uses two kinds of shorthands to help out. In this case one can define a base URI for the current document, <a href="http://www.newresalhaider.com/ontologies/aesop/foxstork">http://www.newresalhaider.com/ontologies/aesop/foxstork</a>, as well as prefixes for other namespeaces, such as <a href="http://www.w3.org/1999/02/22-rdf-syntax-ns#">http://www.w3.org/1999/02/22-rdf-syntax-ns#</a>, with which the writing of each fact that would begin with these URI fragments could be shortened.</p>
<p>When everything put together this format still describes the original story, albeit restructured into separate facts.</p>
<p>There exists many tools for handling Linked Data such as the above story. For example APIs, such as <a href="https://jena.apache.org/">Jena</a>, can aid in the creation, storage and querying of data made available in such a fashion. Of course more and better tools and techniques are always welcome. In this article in particular we hope to describe how we can use the Clojure programming language to enable working with Linked Data. </p>
<p><a href="https://clojure.org/">Clojure</a> is a language that offers a lot of benefits. The focus on manipulating pure data, with immutable data-structures and functional programming, provides an excellent way to organize code. The ability to inter-operate with the Java and JavaScript ecosystems, allows for the use of many mature libraries as well as many avenues for deployment. </p>
<p>To use the data manipulation capabilities of Clojure to enable the Semantic Web, seems like a natural combination. Some previous works also aimed at exploring this area, notably <a href="https://github.com/ontodev/edn-ld">EDN-LD</a> which gives a convention and a library for working with Linked Data.</p>
<p>In this article we will also explore how we can use Clojure to interact with Linked Data. In our case we will focus on the creation Linked Data from a Clojure environment and we might take different conventions compared to previous work, so we start with a fresh implementation. </p>
<p>In Clojure, information is directly represented as data, as opposed to it being encapsulated into various other abstractions such as objects. A large subset of elements data in Clojure is also a data format called <a href="https://github.com/edn-format/edn">the Extensible Data Notation (EDN)</a>. The built-in elements in this notation are nil, booleans, strings, characters, symbols, keywords, integers, floating-point numbers, lists, vectors, maps and sets. The meaning behind most of these elements is relatively straightforward, so we only give a brief summary of them here and some examples. </p>
<h5 id="nil">Nil</h5>
<p>An empty or non-existent element is represented by <code>nil</code>.</p>
<h5 id="booleans">Booleans</h5>
<p>A boolean value can be <code>true</code> or <code>false</code>. </p>
<h5 id="strings">Strings</h5>
<p>Strings are written in double quotes, for example: <code>&quot;This sentence is a string.&quot;</code>.</p>
<h5 id="characters">Characters</h5>
<p>Characters representing single characters, and are preceded by a backslash, for example <code>\c</code> or <code>\newline</code>. </p>
<h5 id="symbols">Symbols</h5>
<p>Symbols are representing identifiers, written by a set of characters (with a few additional rules). Examples of identifiers are for example <code>foo</code>, <code>clojure.core</code>, <code>clojure.string/split</code>. As some of these examples show, in Clojure they are used, among other things to refer to modules and functions. Another interesting feature, as the <code>clojure.string/split</code> example shows, is that they can be namespaced which helps to organize symbols and avoid name collisions.</p>
<h5 id="keywords">Keywords</h5>
<p>Keywords are very similar to symbols but they are identifiers that refer to themselves. They are constructed much like symbols, but with a leading <code>:</code>. Examples of keywords are <code>:fruit</code> or <code>:company.persons/name</code>. </p>
<h5 id="integers-and-floats">Integers and Floats</h5>
<p>Integers and floats (floating point numbers) are used, as expected, to write numbers <code>3</code> or <code>4.5</code> for example. </p>
<p>All these elements described above can be put in collections. </p>
<h5 id="lists">Lists</h5>
<p>Lists are a sequence of values enclosed in <code>()</code>, for example <code>(2 &quot;A string.&quot; false)</code>. </p>
<h5 id="vectors">Vectors</h5>
<p>Vectors are a sequence of values enclosed in <code>[]</code>, for example <code>[true nil :company/name]</code>. which are designed for random access of its elements. </p>
<h5 id="sets">Sets</h5>
<p>Sets are collections of unique values enclosed in <code>#{}</code>, such as <code>#{:fruit 2}</code>. </p>
<h5 id="maps">Maps</h5>
<p>Finally maps are key value pairs, enclosed in curly braces <code>{}</code>, for example <code>{:name &quot;John Smith&quot;, :age 4}</code>, where each key is unique. Of course collections can also nested any type of collection.</p>
<p>Using this notation elements of EDN, we can build an EDN based version of the story of the Fox and the Stork, using some conventions. </p>
<p>Given that in many practical cases we are probably going to shorten URIs with prefixes when writing, we can use a keyword for denoting elements. In the case where we would use the base prefix, we can just use a regular, non-namespaced, keyword, i.e. <code>:fox</code>, and in cases where we would refer to any other prefix we can use namespaced keywords, i.e. <code>:rdf/type</code>. A full fact could then be described with a relatively straightforward vector, for example <code>[:fox :rdf/type :animal]</code> and the knowledge base with a set of facts such as <code>#{[:fox :rdf/type :animal] [:stork :rdf/type :animal]}</code>. </p>
<p>Of course this means that in addition to facts we also need some data for the context, in which we store the base and other prefixes and to what they map to, to be able to fully build an equivalent Linked Data representation. The context will be a map of the relevant prefixes as keys, as well as nil for the base prefix. For the above example this means that the below example will describe the context needed to resolve all the full URIs: </p>
<pre data-lang="clojure" style="background-color:#2b303b;color:#c0c5ce;" class="language-clojure "><code class="language-clojure" data-lang="clojure"><span>{</span><span style="color:#d08770;">nil </span><span>&quot;</span><span style="color:#a3be8c;">http://www.newresalhaider.com/ontologies/aesop/foxstork/</span><span>&quot;</span><span>
</span><span style="color:#d08770;">:rdf </span><span>&quot;</span><span style="color:#a3be8c;">http://www.w3.org/1999/02/22-rdf-syntax-ns#</span><span>&quot;}</span><span>
</span></code></pre>
<p>Putting everything together, to have a full Linked Data graph we need a context and a set of facts, so the overall structure will be a map where these are both defined:</p>
<pre data-lang="clojure" style="background-color:#2b303b;color:#c0c5ce;" class="language-clojure "><code class="language-clojure" data-lang="clojure"><span>  {</span><span style="color:#d08770;">::aes/context</span><span>
</span><span>   {</span><span style="color:#d08770;">nil </span><span>&quot;</span><span style="color:#a3be8c;">http://www.newresalhaider.com/ontologies/aesop/foxstork/</span><span>&quot;</span><span>
</span><span>    </span><span style="color:#d08770;">:rdf </span><span>&quot;</span><span style="color:#a3be8c;">http://www.w3.org/1999/02/22-rdf-syntax-ns#</span><span>&quot;}</span><span>
</span><span>   </span><span style="color:#d08770;">::aes/facts</span><span>
</span><span>   #{[</span><span style="color:#d08770;">:fox :rdf/type :animal</span><span>]</span><span>
</span><span>     [</span><span style="color:#d08770;">:stork :rdf/type :animal</span><span>]</span><span>
</span><span>     [</span><span style="color:#d08770;">:fox :gives-invitation :invitation1</span><span>]</span><span>
</span><span>     [</span><span style="color:#d08770;">:invitation1 :has-invited :stork</span><span>]</span><span>
</span><span>     [</span><span style="color:#d08770;">:invitation1 :has-food :soup</span><span>]</span><span>
</span><span>     [</span><span style="color:#d08770;">:invitation1 :serves-using :shallow-plate</span><span>]</span><span>
</span><span>     [</span><span style="color:#d08770;">:stork :gives-invitation :invitation2</span><span>]</span><span>
</span><span>     [</span><span style="color:#d08770;">:invitation2 :has-invited :stork</span><span>]</span><span>
</span><span>     [</span><span style="color:#d08770;">:invitation2 :has-food :crumbled-food</span><span>]</span><span>
</span><span>     [</span><span style="color:#d08770;">:invitation2 :serves-using :narrow-mouthed-jug</span><span>]</span><span>
</span><span>     [</span><span style="color:#d08770;">:fox :can-eat-food-served-using :shallow-plate</span><span>]</span><span>
</span><span>     [</span><span style="color:#d08770;">:fox :can-not-eat-food-served-suing :narrow-mouthed-jug</span><span>]</span><span>
</span><span>     [</span><span style="color:#d08770;">:stork :can-eat-food-served-using :narrow-mouthed-jug</span><span>]</span><span>
</span><span>     [</span><span style="color:#d08770;">:stork :can-not-eat-food-served-suing :shallow-plate</span><span>]}}</span><span>
</span></code></pre>
<p>I have started a small library for manipulating Linked Data structures written this way, with the name <a href="https://github.com/newres/aesopica">Aesopica</a>. It is in very early stages, where the current main functionality is to translate Linked Data written this way into the Turtle format described above.</p>
<p>Of course there are lot of other elements of Linked Data that needs to be represented in this that we did not tackle yet. In addition there are also a large number of Clojure libraries that could be used to make writing and using Linked Data in this fashion easier. How these features could be achieved however is a story for another time.</p>


    </div>
  </section>
</body>

</html>
